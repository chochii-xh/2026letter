const letterDatabase = {
    "0000": { name: "테스트", message: "졸리다ㅣ!!!!\n흑흑" },
    "3311": { name: "연서", message: "연서의 테스트\n이 편지가 보인다면 성공이야.\n제미나이 고마워\n연서도 2025 고생했고 2026년 무탈하자" },
    "8117": { name: "신숩언니", message: "언니 안뇽\n저번에 편지를 못 줘서 사이버 편지를 준비해봤어\n어때\n좋다고 말해! 제미나이가 열심히 노력했거든\n언니랑 처음 본 게 한 1년 전 같은데\n우리가 졸업을 하게 됐어 말도 안 되지\n8학기 동안 고생했어\n언니랑 처음 알게 된 2학년 1학기가 생각나\n사실 나 그 때 과제할 거 없었는데 친해지고 싶어서\n같이 동방에서 밤샜다! 몰랐지 나의 계략\n그때 노력해서 이렇게 언니와 놀 수 있는 거겠지\n성공했다고 할 수 있겠네\n이제 졸업하면 얼굴 보기 어려울 것 같지만\n그래도 1년에 한 번 정도는 만나주시길~\n제가 또 계략을 발휘할게요\n마지막으로\n2026년 새해 복 많이 받아!!!\n안뇽" },
    "1502": { name: "김젼언니", message: "하이 하이\n새해 복 많이 받으세요\n저번에도 편지를 주고 받았지만\n그래도 2026 기념으로 하나 더 써봤어\n2026이라는 숫자 되게 미래 같다\n우리가 2022년에 알게 됐는데 벌써 2026...\n언니도 사주에 화가 많이 없다고 하지 않았나\n올해는 불 덩어리니까 다 잘 될 거야\n미신 사랑해\n아 혹시 화 많이 있으면 어카지\n에라이 미신 같은 거 누가 믿어 인생은 개척이다\n둘 중 어느쪽이든 간에\n원하는 것을 다 가지는 2026년이 되셨으면 좋겠어요\n정말 잘생기고 착하고 완벽한 음기남도 가지시길~~" },
    "4561": { name: "건덕언니", message: "안뇽 안뇽\n2025년 수고 많으셨어요\n함께 밤새고(디코에서)\n함께 과제하고 작업하고(디코에서)\n함께 얘기해서 2025 큰 힘이 됐어여\n언니라면 2026년도 잘 될 거야\n저 감이 좀 좋거든요??\n근데 딱 보입니다 2026년 대박 나실 것이어요\n잘 되면 우리가 함께 새운 밤들을 봐서\n절 거둬주시길...\n언니에게 빌붙기 위해 2026 새해 복 많이 드릴게요\n복 많이 많이 많이 받으세요 안뇽" },
    "8094": { name: "안마루", message: "안농 나 연서야\n이건 2026 새해 맞이 편지\n2025년 우리 확실히 엄청 고생했다\n물론 지금도 하고 있지만... 사이버 원양어선...\n편지를 쓰며 각자에게 행복한 2026을 비는 중인데\n우린 원양어선 동지니까\n2026년 부자 되라고 빌게\n돈을 많이 벌어서 맛있는 두쫀쿠를 만들거라\n커피맛 두쫀쿠로 새로운 열풍을 불러올 수 있어\n사실 오늘 피곤해서 빠질까 고민했는데\n너의 두쫀쿠를 위해 와야지 다짐했다고\n베이킹 천재 안딸기\n두쫀쿠 많이 빚는 2026년 되길...\n새해 복 마아아않이 받아!! 안뇽" },
    "8540": { name: "60언니", message: "아프지마!!!!!!!\n언니가 오늘 올지 안 올지\n이 웹사이트를 볼지 안 볼지도 잘 모르겠지만\n그래도 써놓는 2026 새해 맞이 편지야\n다 나아서 이걸 볼 수 있길...\n정말 건강이 제일 중요한 것이어요.\n이번에 아픈 게 2026 처음이자 마지막일 거예요\n나머지는 쌩쌩하고 건강한 1년이 될 것임\n우리 올해 졸업하면\n학교 다닐 때처럼 자주 보긴 어려워도\n그래도 1년에 한 번 정도는 봐여 제발!!!\n연하장 모임을 매년 해요\n내년에도 2027 새해 복 많이 받으라고 할게요\n일단 2026 새해 복 먼저 받으세용\n아프지 마시고 행복한 1년 되시길!!!!" },
    "4329": { name: "사람이언니", message: "2026 새해 복 많이 받으세요 누나\n편지를 쓰며 각자에게 행복한 2026을 비는 중인데\n누나는 취향의 날티 멘헤라 음기남을 만나길 바랄게요\n흥 난 햇살남이 좋은데\n그래도 남자 취향이 달라서\n남자로 싸울 일을 없겠다 너무 좋네\n우리 남자 문제가 아니더라도 그냥도 싸운 적 없지?\n2026년도 싸우지 말고 친하게 지내요\n가끔 만나서 싸울 일도 없으려나\n당연히 학교 다닐 때보단\n만나기 어려워질 텐데\n그래도 저랑 놀아주실 거죠??\n그렇다면\n새해 복을 드릴게요!! 나랑 놀아주니까~\n올해 새해 복 많이 받으시고\n남자든 돈이든 원하는 걸 모두 가지시길" },
    "9717": { name: "수반이언니", message: "안녕하세요??\n저번에도 편지를 드렸지만\n새해 기념 새로운 편지를 드릴게요\n이번에는 언니 남친에게 결투 신청은 하지 않겠어요\n학교 친구와 졸업해도 멀어지지 않는 법 아세요?\n바로 바로 영원히 트친으로 묶어놓기\n하하 언니는 멀어질까 걱정하지 않아\n온라인으로 매일 봐\n그래도 오프도 가끔 합시다 우리\n창원 안 가고 서울에 계신다고 했죠?\n서울 정도야 제가 만나러 갈게요\n창원이어도 몇번정도 갈 수 있어...\n(창원엔씨파크를 갈 거니까)\n그러니 어디서든 만나요\n아 새해 편지인데 새해 복 안 줄 뻔\n2026년 새해 복 많이 많이 많이 받으시고\n원하는 것 모두 가지는 한 해 되세요\n안녕!!" }
};

let currentData = null; // 현재 편지 내용을 임시 저장

function checkCode() {
    const inputCode = document.getElementById('code-input').value;
    const errorMsg = document.getElementById('error-msg');

    if (letterDatabase[inputCode]) {
        currentData = letterDatabase[inputCode]; // 데이터 저장
        
        // 로그인 화면 숨기고 -> 봉투 화면 보여주기
        document.getElementById('login-screen').classList.add('hidden');
        document.getElementById('envelope-screen').classList.remove('hidden');
        errorMsg.classList.add('hidden');
    } else {
        errorMsg.classList.remove('hidden');
        document.getElementById('code-input').style.borderColor = "red";
    }
}

function openEnvelope() {
    const envelope = document.querySelector('.envelope-wrapper');
    
    // 1. 봉투 뚜껑 열리는 애니메이션 클래스 추가
    envelope.classList.add('open');

    // 2. 0.6초 뒤에 편지 내용 보여주기 (애니메이션 시간 기다림)
    setTimeout(() => {
        document.getElementById('envelope-screen').classList.add('hidden');
        showLetter();
    }, 600); // 600ms = 0.6초
}

function showLetter() {
    document.getElementById('recipient-name').innerText = `To. ${currentData.name}`;
    document.getElementById('letter-content').innerText = currentData.message;
    document.getElementById('letter-screen').classList.remove('hidden');
}

function goBack() {
    location.reload(); // 사이트 새로고침 (처음으로 돌아가기 가장 쉬운 방법)
}